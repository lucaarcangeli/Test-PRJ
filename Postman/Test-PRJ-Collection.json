{
	"info": {
		"_postman_id": "62f5798c-359a-4757-a84b-9b94dd2f599b",
		"name": "Test-PRJ",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "USERS - Toggle [active ON\\OFF]",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"username\": \"clippiatt0\"\n}"
				},
				"url": {
					"raw": "{{url}}/testprj/api/v1/users/toggle",
					"host": [
						"{{url}}"
					],
					"path": [
						"testprj",
						"api",
						"v1",
						"users",
						"toggle"
					]
				},
				"description": "Esegue uno \"switch\" (da 0 a 1 e viceversa) del campo ACTIVE relativo alla entità User definita dal parametro _username_ specificato nel JSON in input:\n\n```\n\t\"username\": <USERNAME>\n```\n"
			},
			"response": []
		},
		{
			"name": "USERS - List [by AREA]",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{url}}/testprj/api/v1/users/list?latNE=42.023294&lngNE=12.779942&latSW=41.745702&lngSW=12.31346&timeFrom=1525651200&timeTo=1525651250",
					"host": [
						"{{url}}"
					],
					"path": [
						"testprj",
						"api",
						"v1",
						"users",
						"list"
					],
					"query": [
						{
							"key": "latNE",
							"value": "42.023294"
						},
						{
							"key": "lngNE",
							"value": "12.779942"
						},
						{
							"key": "latSW",
							"value": "41.745702"
						},
						{
							"key": "lngSW",
							"value": "12.31346"
						},
						{
							"key": "timeFrom",
							"value": "1525651200"
						},
						{
							"key": "timeTo",
							"value": "1525651250"
						}
					]
				},
				"description": "Lista di entità User presenti all'interno dell'area circoscritta dai punti NE e SW all'interno di uno specifico lasso di tempo. I punti di cui sopra sono identificati attraverso i parametri:\n\n```\nlatNE=<DOUBLE> (latitudine punto NE)\nlngNE=<DOUBLE> (longitudine punto NE)\nlatSW=<DOUBLE> (latitudine punto SW)\nlngSW=<DOUBLE> (longitudine punto SW)\n```\n\nmentre l'intervallo temporale:\n\n```\ntimeFrom=<NUMBER>\ntimeTo=<NUMBER> \n```\n\nentrambi valori Epoch in secondi\n"
			},
			"response": []
		},
		{
			"name": "USERS - Auth",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"username\": \"clippiatt0\"\n}"
				},
				"url": {
					"raw": "{{url}}/testprj/api/v1/users/auth",
					"host": [
						"{{url}}"
					],
					"path": [
						"testprj",
						"api",
						"v1",
						"users",
						"auth"
					]
				},
				"description": "Restituisce una stringa criptata rappresentante un JWT (Json Web Token) associato univocamente all'utente _username_ definito dal JSON in input:\n\n```\n{\n  \"username\": <USERNAME>\n}\n```\n\nIl token dovrà essere utilizzato nelle chiamate future popolando l'apposito Header HTTP ed indicando la tipologia di schema _Bearer_, come da pattern di autenticazione mediante token.\n\n\n```\nHeader: \"Authorization\"\nValue: Bearer <JWT>\n```\n\nIl back-end (mantenendo le sue caratteristiche stateless) verificherà la presenza del token per tutte gli endpoint sottoposti ad autenticazione, risultando in uno STATUS 401 (Unauthorized) in caso di fallimento\n\n**NOTE:** \nPer questo test non è stata impostato alcun vincolo di scadenza sul JWT quindi una volta generato potrà essere utilizzato _ad libitum_ nelle chiamate successive\n\n"
			},
			"response": []
		},
		{
			"name": "USERS - Ins Location",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzUxMiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAAABXMQQ6DIBBA0bvMWsxUhji4NPEMXeMADU0bSYGV6d3F7cvPP6G0HRaQT8o5uVoRBkildApFXr-j5VGOb0fXfMfntt6Bq7A8zMRkLSIP8K7pnmieyRpUwRpShF4UaxMV7V5mjr3WBP8LNffKEHMAAAA.7LE8ill-5ZVpDyusquIPcy4XadLLRb3Tcoy9h3D65T_c66yilDm3XtCbsu5oK2G5bxWog0llLNFxYQeIhoHejA",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"lat\": 41.902606,\n\t\"lng\": 12.692104\n}"
				},
				"url": {
					"raw": "{{url}}/testprj/api/v1/users/location",
					"host": [
						"{{url}}"
					],
					"path": [
						"testprj",
						"api",
						"v1",
						"users",
						"location"
					]
				},
				"description": "Inserisce nel database una specifica entità Location identificata dal JSON\n\n```\n{\n\t\"lat\": <DOUBLE>,\n\t\"lng\": <DOUBLE>\n}\n```\n\nrelativa all'istante nel quale si esegue la chiamata ed associata all'utente identificato dal token di autenticazione (JWT) passato alla API stessa all'interno dell'Header _Authorization_.\n\nIl back-end quindi:\n1. verifica la presenza e la validità del JWT\n2. estrapola le informazioni dell'utente contenute in esso\n3. associa l'entità Location all'utenza di cui al punto 2\n\nMediante questa soluzione quindi:\n* si implementa un pattern di autenticazione\n* si vincola l'inserimento dei dati di un'utenza a quella sola utenza, essendo il JWT strettamente correlato solo ad essa"
			},
			"response": []
		},
		{
			"name": "USERS - Ins Location [AUTH FAILURE]",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": ".H4sIAAAAAAAAABXMQQ6DIBBA0bvMWsxUhji4NPEMXeMADU0bSYGV6d3F7cvPP6G0HRaQT8o5uVoRBkildApFXr-j5VGOb0fXfMfntt6Bq7A8zMRkLSIP8K7pnmieyRpUwRpShF4UaxMV7V5mjr3WBP8LNffKEHMAAAA.7LE8ill-5ZVpDyusquIPcy4XadLLRb3Tcoy9h3D65T_c66yilDm3XtCbsu5oK2G5bxWog0llLNFxYQeIhoHejA",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"lat\": 41.902606,\n\t\"lng\": 12.692104\n}"
				},
				"url": {
					"raw": "{{url}}/testprj/api/v1/users/location",
					"host": [
						"{{url}}"
					],
					"path": [
						"testprj",
						"api",
						"v1",
						"users",
						"location"
					]
				},
				"description": "Servizio di esempio relativo ad una autenticazione fallita\n"
			},
			"response": []
		},
		{
			"name": "USERS - Ins Location [with REVGeocode]",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzUxMiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAAABXMQQ6DIBBA0bvMWsxUhji4NPEMXeMADU0bSYGV6d3F7cvPP6G0HRaQT8o5uVoRBkildApFXr-j5VGOb0fXfMfntt6Bq7A8zMRkLSIP8K7pnmieyRpUwRpShF4UaxMV7V5mjr3WBP8LNffKEHMAAAA.7LE8ill-5ZVpDyusquIPcy4XadLLRb3Tcoy9h3D65T_c66yilDm3XtCbsu5oK2G5bxWog0llLNFxYQeIhoHejA",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"lat\": 41.902606,\n\t\"lng\": 12.692104\n}"
				},
				"url": {
					"raw": "{{url}}/testprj/api/v1/users/location?googleApiKey=AIzaSyCs8qjZNO_OoBR3rSWCGzwLOg-YZFwCjTA",
					"host": [
						"{{url}}"
					],
					"path": [
						"testprj",
						"api",
						"v1",
						"users",
						"location"
					],
					"query": [
						{
							"key": "googleApiKey",
							"value": "AIzaSyCs8qjZNO_OoBR3rSWCGzwLOg-YZFwCjTA"
						}
					]
				},
				"description": "Mantiene tutte le caratteristiche della descrizione relativa al servizio:\n\nUSERS - Ins Location\n\naggiungendo la possibilità di effettuare il processo di \"reverse geocoding\" attraverso le API Google in modo da arricchire i dati inseriti sul DB con l'indirizzo \"stradale\" (se presente e risolto correttamente) relativo al punto LAT\\LNG indicato.\n\nAffinché questo avvenga all'endpoint deve essere passato il parametro:\n\n```\ngoogleApiKey=<STRING>\n```\n\ncontenente una ApiKey valida per poter fruire delle API Google Geocode.\n\n**NOTE:** \nPer il test ho creato ed impostato una chiave mia personale, ma può essere modificata con qualsiasi chiave valida"
			},
			"response": []
		}
	]
}